<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è¨˜æ†¶åŠ›ç¿»ç‰ŒéŠæˆ²</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>è¨˜æ†¶åŠ›ç¿»ç‰ŒéŠæˆ²</h1>
  <div id="game"></div>
  <button id="restart">é‡æ–°é–‹å§‹</button>

  <script src="script.js"></script>
</body>
</html>
body {
  background: #1e1e2f;
  color: #fff;
  font-family: Arial;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  padding-top: 30px;
}

#game {
  display: grid;
  grid-template-columns: repeat(4, 100px);
  gap: 12px;
}

.card {
  width: 100px;
  height: 100px;
  background: #3c3f58;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 38px;
  cursor: pointer;
  border-radius: 12px;
  transition: transform 0.3s;
}

.card.flipped {
  background: #ffffff;
  color: #000;
  transform: rotateY(180deg);
  cursor: default;
}

#restart {
  padding: 10px 22px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background: #ff7a59;
  color: #fff;
}
const gameBoard = document.getElementById("game");
const restartBtn = document.getElementById("restart");

let emojis = ["ğŸ", "ğŸ", "ğŸŒ", "ğŸŒ", "ğŸ”", "ğŸ”", "ğŸ•", "ğŸ•",
              "ğŸ±", "ğŸ±", "â­", "â­", "ğŸŒ™", "ğŸŒ™", "ğŸ§¸", "ğŸ§¸"];

let firstCard = null;
let lock = false;

function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

function startGame() {
  gameBoard.innerHTML = "";
  firstCard = null;
  lock = false;

  let shuffled = shuffle([...emojis]);

  shuffled.forEach((emoji) => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.dataset.value = emoji;
    card.textContent = "â“";

    card.addEventListener("click", () => flipCard(card));

    gameBoard.appendChild(card);
  });
}

function flipCard(card) {
  if (lock || card.classList.contains("flipped")) return;

  card.classList.add("flipped");
  card.textContent = card.dataset.value;

  if (!firstCard) {
    firstCard = card;
  } else {
    lock = true;
    setTimeout(() => {
      if (firstCard.dataset.value === card.dataset.value) {
        firstCard = null;
        lock = false;
      } else {
        firstCard.classList.remove("flipped");
        firstCard.textContent = "â“";

        card.classList.remove("flipped");
        card.textContent = "â“";

        firstCard = null;
        lock = false;
      }

      checkWin();
    }, 800);
  }
}

function checkWin() {
  const cards = document.querySelectorAll(".card");
  const allFlipped = [...cards].every((c) => c.classList.contains("flipped"));

  if (allFlipped) {
    setTimeout(() => {
      alert("ä½ è´äº†ï¼ ğŸ‰");
    }, 300);
  }
}

restartBtn.addEventListener("click", startGame);

startGame();
