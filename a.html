<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‰“åœ°é¼ éŠæˆ²</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            text-align: center; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; 
            margin: 0; 
            padding: 20px;
            min-height: 100vh;
        }
        #gameArea { 
            max-width: 500px; 
            margin: 0 auto; 
            background: rgba(255,255,255,0.1); 
            border-radius: 20px; 
            padding: 20px; 
            backdrop-filter: blur(10px);
        }
        #gameBoard { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 15px; 
            margin: 20px auto; 
            max-width: 300px;
        }
        .hole { 
            width: 100px; 
            height: 100px; 
            background: #8B4513; 
            border-radius: 50%; 
            position: relative; 
            cursor: pointer; 
            transition: transform 0.1s;
            box-shadow: inset 0 10px 20px rgba(0,0,0,0.3);
        }
        .hole:hover { transform: scale(1.05); }
        .mole { 
            width: 80px; 
            height: 80px; 
            background: #D2691E; 
            border-radius: 50%; 
            position: absolute; 
            top: 10px; 
            left: 10px; 
            cursor: pointer; 
            transition: all 0.2s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }
        .mole.hit { transform: scale(0.8) translateY(20px); background: #A0522D; }
        .mole.miss { background: #FF4500; }
        #stats { 
            display: flex; 
            justify-content: space-around; 
            font-size: 24px; 
            font-weight: bold; 
            margin: 20px 0;
        }
        button { 
            padding: 15px 30px; 
            font-size: 18px; 
            background: #FF6B6B; 
            color: white; 
            border: none; 
            border-radius: 25px; 
            cursor: pointer; 
            transition: all 0.3s;
            margin: 10px;
        }
        button:hover { background: #FF5252; transform: scale(1.05); }
        button:disabled { background: #666; cursor: not-allowed; transform: none; }
        h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
    </style>
</head>
<body>
    <div id="gameArea">
        <h1>ğŸ•·ï¸ æ‰“åœ°é¼  ğŸ€</h1>
        <div id="stats">
            <div>åˆ†æ•¸: <span id="score">0</span></div>
            <div>æ™‚é–“: <span id="time">30</span>s</div>
        </div>
        <div id="gameBoard"></div>
        <button id="startBtn">é–‹å§‹éŠæˆ²</button>
        <button id="resetBtn" disabled>é‡ç½®</button>
        <p id="gameStatus">é»æ“Šã€Œé–‹å§‹éŠæˆ²ã€é–‹å§‹æŒ‘æˆ°ï¼</p>
    </div>

    <script>
        const gameBoard = document.getElementById('gameBoard');
        const scoreEl = document.getElementById('score');
        const timeEl = document.getElementById('time');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const statusEl = document.getElementById('gameStatus');

        let score = 0;
        let timeLeft = 30;
        let gameActive = false;
        let moles = [];
        let currentMole = null;
        let timer;

        // å»ºç«‹9å€‹åœ°æ´
        for(let i = 0; i < 9; i++) {
            const hole = document.createElement('div');
            hole.className = 'hole';
            hole.dataset.index = i;
            gameBoard.appendChild(hole);
        }

        const holes = document.querySelectorAll('.hole');

        startBtn.addEventListener('click', startGame);
        resetBtn.addEventListener('click', resetGame);

        function startGame() {
            gameActive = true;
            score = 0;
            timeLeft = 30;
            updateDisplay();
            startBtn.disabled = true;
            resetBtn.disabled = false;
            statusEl.textContent = 'å°å¿ƒï¼åœ°é¼ è¦å‡ºç¾äº†ï¼';
            
            // éŠæˆ²è¨ˆæ™‚å™¨
            timer = setInterval(() => {
                timeLeft--;
                updateDisplay();
                if(timeLeft <= 0) {
                    endGame();
                }
            }, 1000);

            spawnMole();
        }

        function spawnMole() {
            if(!gameActive) return;
            
            // éš¨æ©Ÿé¸æ“‡åœ°æ´
            const holeIndex = Math.floor(Math.random() * 9);
            const hole = holes[holeIndex];
            
            // ç§»é™¤ä¹‹å‰çš„åœ°é¼ 
            if(currentMole) {
                currentMole.remove();
            }
            
            // å»ºç«‹æ–°åœ°é¼ 
            const mole = document.createElement('div');
            mole.className = 'mole';
            mole.dataset.index = holeIndex;
            hole.appendChild(mole);
            
            currentMole = mole;
            
            // éš¨æ©Ÿå­˜æ´»æ™‚é–“ (500-2000ms)
            const surviveTime = Math.random() * 1500 + 500;
            setTimeout(() => {
                if(mole.parentNode) {
                    mole.classList.add('miss');
                    setTimeout(() => mole.remove(), 300);
                }
                if(gameActive) spawnMole();
            }, surviveTime);
            
            // é»æ“Šäº‹ä»¶
            mole.addEventListener('click', hitMole);
        }

        function hitMole(e) {
            e.target.classList.add('hit');
            score += 10;
            updateDisplay();
            setTimeout(() => e.target.remove(), 200);
            spawnMole(); // ç«‹å³å‡ºç¾ä¸‹ä¸€éš»
        }

        function updateDisplay() {
            scoreEl.textContent = score;
            timeEl.textContent = timeLeft;
        }

        function endGame() {
            gameActive = false;
            clearInterval(timer);
            startBtn.disabled = false;
            statusEl.textContent = `éŠæˆ²çµæŸï¼æœ€çµ‚åˆ†æ•¸ï¼š${score} åˆ† ğŸ‰`;
            if(currentMole) currentMole.remove();
        }

        function resetGame() {
            endGame();
            score = 0;
            timeLeft = 30;
            updateDisplay();
            statusEl.textContent = 'æº–å‚™å¥½äº†å—ï¼Ÿ';
        }
    </script>
</body>
</html>
